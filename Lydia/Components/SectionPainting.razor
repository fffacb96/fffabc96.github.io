@using Lydia.Data
@using Lydia.Pages
@using Markdig
@inject IDialogService DialogService

<MudButton @onclick="() => OpenDialogAsync(8)">
    <MudImage loading="lazy" Src="@Painting.File" Style="max-width: 50%" Class="m-auto"></MudImage>
</MudButton>
<MudText Typo="Typo.subtitle1">
    @Painting.Size
</MudText>

<MudText Typo="Typo.h2">
    @Painting.Name
</MudText>

<MudText Typo="Typo.body1">
    @((MarkupString)Markdown.ToHtml(Painting.Descriptions))
</MudText>

@code {

    [Parameter] public Painting Painting { get; set; }

    private Task OpenDialogAsync(double imageId)
    {
        var parameters = new DialogParameters<InquireImageCarouselDialog>
        {
            { x => x.ImageId, imageId },
            { x => x.Painting, Painting }
        };

        var options = new DialogOptions { FullScreen = true, CloseButton = true, CloseOnEscapeKey = true };

        return DialogService.ShowAsync<InquireImageCarouselDialog>("", parameters, options);
    }

}